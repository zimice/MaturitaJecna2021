---
author: "Šimon Kochánek"
date: "21/3/2021"
output: pdf_document
fontsize: 10.5pt
---

<style type="text/css">
  body{
    font-size: 10.5pt;
  }
</style>


# 13. Přerušení a jeho průběh, předání řízení, průběh instrukce volá-ní

### Úvod

    Účelem je pozastavit běžící proces a předat řízení nad mikroproc. podprogramu obsluhy např.obsluhy periferie
    Po ukončení podprogramu vrátit zpět řízení nad mikroproc. původnímu procesu.

### Přerušení u jednoduchého mikroproc. nebo v reálném režimu současného mikroproc

    Vnější: - maskovatelné
            - nemaskovatelné: - synchroní (SW-instrukce INT)
                              - nesychroní (HW signál z řadiče přerušení INTR)

    Vnitřní: - chybová
             - ladící

### Přerušení v chráněném režimu 



### signály INTR a NMI 

### instrukce INTn/IRET 

### příkl. brány INTERRUPTGATE 

### struktura řadiče přerušení 

#### jeho komunikace s procesorem 

### tabulka (vektorů) IDT 

### řešení přerušení v chráněném režimu

### Druhy přerušení v chráněném režimu

#### ABORT

    řeší vzniklé chyby např.:
    A) Nesouhlasí PL bity SELEKTORU a PL bity DESKRIPTORU při spouštění proc.
    B) Nejsou nahozené bity R nebo W při spuštění procesu / při zápisu dat
    C) Překročení hranice kódového/datového segmentu (Offs.> Limit)
    D) Nepoužití instrukcí v programu jádra OS (spec. instrukce jen pro PL=0)

#### INTERRUPT

    řeší chyby, co se dají "opravit"
    A) AU jednotka Proc. nenajde segment kódu/data ve fyzické OP (bit P ->Přítomnost je shozený, segment je asi ve virtuální pam.)
    B) Do datového segmentu s volným místem 1,2,3,.. Byty se nedá uložit výsledek z koprocesoru (pokud je aktivní bit ED, segment se "nafoukne")

#### TRAP

    řeší opakovanou chybu 
    A) po nenalezení segmentu kódu/dat, po nenalezení stránky OP se hledá ve virtuální paměti- opakované nenalezení (řeší se hláškou "vložte CD")

### průběh přerušení (v reálném režimu)

### Vysvětlení pojmů PnP a HotSwap.