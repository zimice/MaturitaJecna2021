---
author: "Šimon Kochánek"
date: "20/3/2021"
output: pdf_document
fontsize: 10.5pt
---

<style type="text/css">
  body{
    font-size: 10.5pt;
  }
</style>

# 25. Start počítače, operační systém a jeho zaveden


### Inicializace procesoru signálem Reset nebo jeho restart

    Po stistku tlačítka napájení u osobního počítače:
    Stisknutím tlačítka napájení odešle PSU signál základní desce skládající se z jedniček. Ta mu ho zase odešle zpět a po jeho obdržení PSU, začne okamžitě procházet elektrický proud celým systémem.
    Čítač/časovač začne posílat procesoru resetovací příkaz (tím je zajištěno resetování nebo i vypnutí počítače v případě přetížení, kolísavého napětí nebo přehřátí zdroje).
    Po skončení všech interních testů, kdy je proud dodáván všemi součástmi a je stabilizováno vstupní napětí, začne odesílat zdroj přes port P8 pin 1 čítači na základní desce +5V signál nazývaný POWER GOOD (někde POWER_OK či POK) s přípustnou tolerancí od +2,4V do +6,0V (patrně logika TTL). Doba mezi vlastním zapnutím počítače a prvním odesláním POWER_GOOD je většinou v rozmezí od 0,1 do 0,5 sekundy.
    
    Na začátku rutiny BIOS zkontroluje sám sebe pomocí kontrolního součtu. Následně se spustí kontrola dat uložených na CMOS paměti (později EEPROM, u nejnovějších FLASH), přičemž na ní proběhne zároveň test zápisu/čtení. Jedná se o malou oblast paměti (64-256 bajtů), napájenou z malé baterky umístěné na základní desce.
    
    Nyní proběhne kontrola technických prostředků počítače, informace o jejich konfiguraci jsou zjišťovány z propojek na základní desce počítače nebo z paměti CMOS. Nastavení jsou postupně konfrontována se skutečností. Tomuto procesoru se obecně říká POST.
    
    Nastane vnitřní příprava procesoru a inicializace základních zařízení. Prvních 16 záznamů v tabulce vektorů přerušení se naplní ukazateli na přerušovací rutiny služeb (ISRs) se sídlem v BIOS ROM. Proběhne test přechodu do chráněného režimu a zpět. Maskovatelná přerušení jsou od teď zapnuta, aby bylo možné zachytávat a zpracovat přerušení dalších zařízení, neboť se budou zpracovávat BIOSy jiných zařízení.
    
    Provede se tedy test systémového řadiče, řadiče paměti a řadiče I/O obvodů, obvodu přímého přístupu do paměti (DMA), časovači systému a programovatelného periferního rozhraní a nakonec ověření prvních 64 kB paměti (tu pak BIOS používá jako pracovní oblast). Případné chyby jsou interpretovány pomocí zvukových signálů ze speakru počítače, známé jako beep kódy.

### počáteční nastavení registrů

    Při zapnutí napájení RC člen, způsobí, že napájení naběhne plynule (to je pro procesor důležité, protože když napětí se dostane přes nějakou hodnotu tak proběhne jeho vnitřní reset). Takže RESET je připnutí RC článku na chvíli, co způsobí, že jeho registry se nastaví do počátečního stavu (u resetu se nevypne zdroj)
    Registr DX obsahuje typ procesoru zakódovaní do čísla
    Registr AX obsahuje 0, když test proběhl v pořádku a pokud ne, tak obsahuje kód chyby 

### POST (Power On Self Test)

    Jedná se o diagnostický program, který kontroluje hardware v zařízení a zároveň i jejich činnost. Spouští se automaticky po startu přístroje.
    
    Jeho průběh začíná obvykle inicializací a konfigurací procesoru a následným spuštěním série testů ke zjištění, zda počítačový hardware pracuje správně. Případné chyby zjištěné v průběhu testu jsou uloženy nebo oznámeny prostřednictvím vizuálních (blikání LED nebo zobrazením textu na displeji) nebo zvukových prostředků (série pípnutí – tzv. beep kód). Po dokončení je řízení předáno bootovací sekvenci volající ovládací software, nebo zavaděč operačního systému.
    
    POST se vyvinul z přímočarého jednoduchého procesu na poměrně složitý a spletitý. Je to dáno obrovským množstvím hardware a dalších standardů, který musí podporovat. Průměrný uživatel má tak povědomí o průběhu POSTu na osobních počítačích buď pouze prostřednictvím jednoduchých zpráv zobrazených v textovém režimu ihned po startu počítače, nebo je skryt za grafickým logem výrobce základní desky (je tu však možnost v Setupu BIOSu přepnout do textového režimu).
    
    POST se skládá z první a druhé fáze u osobních počítačů (U platformy MAC je to dosti neznámé kvůli uzavřenosti systému)
    V první fázi proběhne kontrola technických prostředků počítače a informace o jejich konfiguraci.
    V druhé fázi se zobrazují informace o výrobci, znak BIOS,číslo verze.
    Poté se zkontroluje, zda zařízení uvedená v paměti existují a fungují správně a blíže se idenfitikují.Kontruleje se procesor po nastavení v první části a paměti, jenž mohou uvádět větší hodnotu než jaká je skutečně nainstalovaná.Kontrolují se také buňky v ram paměti.





### BIOS(Basic Input Output System)

    implementuje základní vstupně–výstupní funkce pro počítače IBM PC kompatibilní a představuje vlastně firmware pro osobní počítače.
    
    Programový kód BIOSu je uložen na základní desce v nevolatilní (stálé) paměti typu ROM, EEPROM nebo modernější flash paměti s možností jednoduché aktualizace (anglicky update).
    
    Původní IBM PC BIOS byl uložen v paměti ROM (pouze pro čtení), která byla zasunuta do soketu v základní desce a oprava BIOSu byla možná pouze výměnou ROM čipu. Protože to bylo nepraktické, začala se používat pro BIOS paměť EEPROM, kterou bylo možné přeprogramovat (změnit její obsah) tak, že byla vyjmuta z patice a přeprogramována ve speciálním zařízení. Kolem roku 1995 se začaly používat flash paměti, které lze přeprogramovat bez vyjmutí ze základní desky. Důvodem změn BIOSu byly zejména změny v hardwaru (nové procesory).

#### Flashování BIOSu

    V moderních počítačích je BIOS uložen v přepisovatelné paměti, což umožňuje obsah přepsat nebo nahradit. To lze provést pomocí speciálního programu, který bývá obvykle poskytovaný výrobcem systému, nebo v POSTU, s uložením na pevný disk nebo USB flash disk. Soubor obsahuje takzvaný "image BIOS„ při kterém může být BIOS přepsán, aby mohlo být provedené vylepšení, které zajistí nové verzi opravit chyby a poskytnout větší výkon, nebo na podporu novějšího hardwaru a také může sloužit k opravě poškozeného BIOSu.

### UEFI(Unified Extensible Firmware Interface)



### spolupráce od HW k OS



### SetUp



### MBR



### BootSec



### zavádění OS a přepnutí do chráněného režimu OP



### Druhy operačních systémů

#### Windows

#### Mac OS

#### Linux

