---
author: "Šimon Kochánek"
date: "19/4/2021"
output: pdf_document
fontsize: 10.5pt
---

<style type="text/css">
  body{
    font-size: 10.5pt;
  }
</style>

# 24. Výjimky a aserce, debugování a zpracování chyb

### Ošetření chyb

##### Aktivní

    Program se zmapuje na zranitelná místa. Ty se následně ošetří podmínkami, které budou umožňovat pouze hodnoty, které jsou pro pgrogram neškodlivé.

##### Pasivní

    Využito pokud by aktivní ošetření chyb bylo moc náročné a obsáhlé ošetřit všechny chybové stavy.
    Použíjí se výjimky.Kód, který by mohl být problémový a chybový se dá do "chráněného režimu".

    Tento se liší tím, že pokud dojde k chybě, máme možnost ji odchytit a zabránit pádu programu.
    Chyba se nazývá výjimka. A je zachycena pomocí bloku try-catch.
    Tento blok může být obohacen o typ chyby.

#### Typy chyb

##### Usage errors

    Chyba v logice programu, které vede k vyjímce. Tato chyba by neměla být řešena odchycením výjimky, místo toho úpravou kódu.
    Tyto errory často nastávají, když je použita funkce, bez přečtení jejich správného používání.
    Těmto chybám se dá vyhnout, přečtením dokumentace k dané funkci. 
    Např: NullReferenceException a DivideByZeroException, která spadá do ArithmeticException.   

##### Program errors

    Jsou to nevyhnutelné chyby za běhu programu, u kterých se nedá zabránit úpravou kódu.
    Mezi tyto výjimky patří IOException, SocketException nebo jakýkoliv vstup uživatele.
    Tyto výjimky se dají vyřešit pomocí přesunu kódu do chráněného režimu a odchytáváním výjimek pomocí blocku try-catch.

##### System errors

    Selhání systému za běhu programu. Po kterém se běh programu nemůže vrátit do normálního režimu.
    Například nedostatek paměti pro program, OutOfMemoryException, ta nastane, pokud runtime není schopen programu přidělit další paměť. Obvykle se tyto výjimky neodchytávají.
    Místo toho se pouze zaznamenají a po pádu programu se uživateli ukážou.
    Při chytání výjimek můžeme chytat více výjimek pomocí jejich společné rodičovské třídy. Například: IOException je rodičovská a spadají pod ní problémy se vstupy a výstupy 
    programu. Napříkad: FileNotFoundException a EndOfStreamException,…

##### Vlastní výjimky

    Při větším programu je výhodné si vytvořit vlastní sadu výjimek, pro zpracování chyb které mohou nastat. 
    Stačí vytvořit třídu a tu oddědit od třídy Exception. A poté jí v programu někde vyhazovat pomocí throw

![](images/SystemErrors.png)

#### Try-catch blok

    Catch – provede se pouze, pokud je odchycena výjimka, které má mateřskou třídu, kterou catch odchytává. Pokud catch nemá výjimku specifikovanou, tak odchytává všechny.

    Finally – provede se pokaždé, ať výjimka nastane nebo ne. Velmi často se používá k zavírání souborům a streamů.

    Exception má vlasnosti, které mohou být získány a následně vypsány: Message, StackTrace, TargetSize.
    Za catch lze přidat příkat when, který slouží jako podmínka chycené výjimky.


